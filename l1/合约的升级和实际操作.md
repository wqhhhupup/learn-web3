
### 什么是以太坊虚拟机（EVM）？
- 以太坊虚拟机（Ethereum Virtual Machine，简称EVM）是以太坊区块链的核心组件之一，可以看作是一个运行在全球分布式网络上的“虚拟计算机”。它的主要作用是执行智能合约的代码，确保这些合约按照预设规则在区块链上运行。

### 智能合约和传统应用程序的一个主要区别是什么？
- 智能合约通过去中心化的区块链实现自动化、无中介的信任，而传统应用依赖中心化的服务器和人为管理。 合约一旦部署，会按照逻辑执行，无法被干预和篡改。

### 什么是 CD（Controller-Data）模式？
- CD模式是数据存储合约和逻辑分离合约的设计。

### 如何实现智能合约的灵活升级？
- 通过灰度和版本控制

### 在 CD 模式中，控制器合约和数据合约之间的通常关系是怎样的？
- 控制器合约通过接口访问数据合约拿到数据并处理，最后重新更新写入。

### 举例说明 1->N 的设计场景？
- 全国有 N 家银行，每家银行都有存款和取款业务，由一个统一的银行业务控制器合约处理所有银行的存取款请求，不区分具体银行。

### 如何处理智能合约中的异常运行？
- 如果出现错误会在区块链节点上重复执行，所以要设计合约要包括资源限制和错误处理，防止滥用和过载。

### 在智能合约的设计和部署中需要考虑哪些安全措施？
- 避免硬编码变量
- 使用开源OpenZeppelin库
- 代码经过审计
- 在测试网上充分测试
- 使用remix或者hardhat模拟攻击

### 数据合约在 CD 模式中扮演什么角色？
- 存储数据（维护智能合约核心数据）
- 提供数据查询的统一接口
- 分离业务逻辑
    

### 在智能合约系统中实施灰度策略有哪些考虑因素？
- 通过 代理合约 或 多版本并行运行 进行灰度测试
- 选择灰度测试用户，可以使用白名单等方式
- 实时监控，使用事件监听，多签回滚、应急暂停 保护资金安全
- 考虑数据兼容性，确保新旧合约数据同步
- DAO参与决策， 社区决策是否应该全量部署新版本

### 智能合约的生命周期包括哪些阶段？
- 开发
- 编译
- 部署
- 运行
- 终止或者升级


### 什么是命名控制器合约，它有什么用途？
- 命名控制器合约（Name Controller Contract） 是一种 管理和解析人类可读名称 的智能合约，主要用于域名解析、账户标识等场景。它通常作为 名称服务（Name Service） 的一部分，允许用户将复杂的 以太坊地址（0x...） 绑定到简单易记的名称（如 alice.eth）
- 允许用户将人类可读的名称映射到区块链地址，方便转账和智能合约调用
- 相当于DNS

### 为什么说在区块链上运行智能合约是昂贵的操作？
- 计算成本，在EVM等环境中运行时都需要gas
- 因为区块链不可篡改，数据存储为永久性，所以昂贵
- 交易或者网络传播， 越多操作成本越贵

### 数据迁移在智能合约中通常如何处理？
- 数据迁移可以通过硬编码迁移法、硬拷贝迁移法或使用默克尔树迁移法，选择合适的方法取决于数据量、迁移成本和系统要求

### 升级智能合约时，如何保证数据的连续性和一致性？
- 通过使用代理模式、手动数据迁移、数据版本控制、保持数据一致性、记录事件和充分测试，可以有效保障合约的安全性和可靠性，从而避免潜在的风险和损失